import re
import json


def sanitize_json(code_block: str) -> str:
    """
    Remove triple-backtick Markdown syntax from LLM-generated code blocks.
    """
    match = re.search(r"```(?:json)?\n(.*?)```", code_block, re.DOTALL)
    return match.group(1).strip() if match else code_block.strip()


def sanitize_code(code_block: str) -> str:
    """
    Remove triple-backtick Markdown syntax from LLM-generated code blocks.
    """
    match = re.search(r"```(?:python)?\n(.*?)```", code_block, re.DOTALL)
    return match.group(1).strip() if match else code_block.strip()


def is_valid_json(sanitized: str) -> bool:
    """
    Check if the sanitized JSON string has the structure: {"is_xml": true}
    """
    try:
        parsed = json.loads(sanitized)
        return parsed == {"is_xml": True}
    except json.JSONDecodeError:
        return False

def sanitize_app_selection(selection: str) -> str:
    """
    Sanitize the app selection string to extract package names.
    Expected format: "com.example.app/.MainActivity" or "com.example.app"
    Returns a package_name or None
    """
    match = re.search(r"```(?:json)?\n(.*?)```", selection, re.DOTALL)
    selection = match.group(1).strip() if match else selection.strip()
    parsed = json.loads(selection)

    package = parsed.get("package")
    return package


if __name__ == "__main__":


    test_str = """
    
    Okay, the user wants to dial the number 8825447497. I need to identify the dial pad buttons for 8, 2, 5, 4, 7 and the call button.\n\n*   **8:** I see a `RelativeLayout` with `content-desc` \"8\\n,T,U,V\" and a nested `TextView` with `text` \"8\" and `resource-id` \"com.samsung.android.dialer:id/dialpad_key_number\".\n*   **2:** I see a `RelativeLayout` with `content-desc` \"2\\n,A,B,C\" and a nested `TextView` with `text` \"2\" and `resource-id` \"com.samsung.android.dialer:id/dialpad_key_number\".\n*   **5:** I see a `RelativeLayout` with `content-desc` \"5\\n,J,K,L\" and a nested `TextView` with `text` \"5\" and `resource-id` \"com.samsung.android.dialer:id/dialpad_key_number\".\n*   **4:** I see a `RelativeLayout` with `content-desc` \"4\\n,G,H,I\" and a nested `TextView` with `text` \"4\" and `resource-id` \"com.samsung.android.dialer:id/dialpad_key_number\".\n*   **7:** I see a `RelativeLayout` with `content-desc` \"7\\n,P,Q,R,S\" and a nested `TextView` with `text` \"7\" and `resource-id` \"com.samsung.android.dialer:id/dialpad_key_number\".\n*   **9:** I see a `RelativeLayout` with `content-desc` \"9\\n,W,X,Y,Z\" and a nested `TextView` with `text` \"9\" and `resource-id` \"com.samsung.android.dialer:id/dialpad_key_number\".\n*   **Call button:** I see a `FrameLayout` with `content-desc` \"Call\" and `resource-id` \"com.samsung.android.dialer:id/dialButton\".\n\n```json\n[{\"type\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content_desc\": \"8\\n,T,U,V\", \"attributes\": {\"index\": \"1\", \"package\": \"com.samsung.android.dialer\", \"class\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content-desc\": \"8\\n,T,U,V\", \"resource-id\": \"com.samsung.android.dialer:id/eight\", \"checkable\": \"false\", \"checked\": \"false\", \"clickable\": \"true\", \"enabled\": \"true\", \"focusable\": \"true\", \"focused\": \"false\", \"long-clickable\": \"true\", \"password\": \"false\", \"scrollable\": \"false\", \"selected\": \"false\", \"bounds\": \"[387,1403][693,1627]\", \"displayed\": \"true\", \"a11y-important\": \"true\", \"screen-reader-focusable\": \"false\", \"drawing-order\": \"2\", \"showing-hint\": \"false\", \"text-entry-key\": \"true\", \"dismissable\": \"false\", \"a11y-focused\": \"false\", \"heading\": \"false\", \"live-region\": \"0\", \"context-clickable\": \"false\", \"content-invalid\": \"false\"}, \"action\": \"type\", \"selector\": \"id=com.samsung.android.dialer:id/eight\", \"reason\": \"clickable=true, focusable=true, class=android.widget.RelativeLayout, resource-id=com.samsung.android.dialer:id/eight\", \"xml\": \"<android.widget.RelativeLayout a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[387,1403][693,1627]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.RelativeLayout\\\" clickable=\\\"true\\\" content-desc=\\\"8\\n,T,U,V\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"true\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"true\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/eight\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"\\\" text-entry-key=\\\"true\\\">\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[509,1547][571,1593]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-desc=\\\"\\xa0\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_letters\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"TUV\\\" text-entry-key=\\\"false\\\"/>\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"false\\\" bounds=\\\"[513,1437][567,1567]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_number\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"8\\\" text-entry-key=\\\"false\\\"/>\\n</android.widget.RelativeLayout>\"}, {\"type\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content_desc\": \"2\\n,A,B,C\", \"attributes\": {\"index\": \"1\", \"package\": \"com.samsung.android.dialer\", \"class\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content-desc\": \"2\\n,A,B,C\", \"resource-id\": \"com.samsung.android.dialer:id/two\", \"checkable\": \"false\", \"checked\": \"false\", \"clickable\": \"true\", \"enabled\": \"true\", \"focusable\": \"true\", \"focused\": \"false\", \"long-clickable\": \"true\", \"password\": \"false\", \"scrollable\": \"false\", \"selected\": \"false\", \"bounds\": \"[387,956][693,1179]\", \"displayed\": \"true\", \"a11y-important\": \"true\", \"screen-reader-focusable\": \"false\", \"drawing-order\": \"2\", \"showing-hint\": \"false\", \"text-entry-key\": \"true\", \"dismissable\": \"false\", \"a11y-focused\": \"false\", \"heading\": \"false\", \"live-region\": \"0\", \"context-clickable\": \"false\", \"content-invalid\": \"false\"}, \"action\": \"type\", \"selector\": \"id=com.samsung.android.dialer:id/two\", \"reason\": \"clickable=true, focusable=true, class=android.widget.RelativeLayout, resource-id=com.samsung.android.dialer:id/two\", \"xml\": \"<android.widget.RelativeLayout a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[387,956][693,1179]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.RelativeLayout\\\" clickable=\\\"true\\\" content-desc=\\\"2\\n,A,B,C\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"true\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"true\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/two\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"\\\" text-entry-key=\\\"true\\\">\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[508,1099][571,1145]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-desc=\\\"\\xa0\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_letters\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"ABC\\\" text-entry-key=\\\"false\\\"/>\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"false\\\" bounds=\\\"[513,989][567,1119]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_number\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"2\\\" text-entry-key=\\\"false\\\"/>\\n</android.widget.RelativeLayout>\"}, {\"type\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content_desc\": \"5\\n,J,K,L\", \"attributes\": {\"index\": \"1\", \"package\": \"com.samsung.android.dialer\", \"class\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content-desc\": \"5\\n,J,K,L\", \"resource-id\": \"com.samsung.android.dialer:id/five\", \"checkable\": \"false\", \"checked\": \"false\", \"clickable\": \"true\", \"enabled\": \"true\", \"focusable\": \"true\", \"focused\": \"false\", \"long-clickable\": \"true\", \"password\": \"false\", \"scrollable\": \"false\", \"selected\": \"false\", \"bounds\": \"[387,1179][693,1403]\", \"displayed\": \"true\", \"a11y-important\": \"true\", \"screen-reader-focusable\": \"false\", \"drawing-order\": \"2\", \"showing-hint\": \"false\", \"text-entry-key\": \"true\", \"dismissable\": \"false\", \"a11y-focused\": \"false\", \"heading\": \"false\", \"live-region\": \"0\", \"context-clickable\": \"false\", \"content-invalid\": \"false\"}, \"action\": \"type\", \"selector\": \"id=com.samsung.android.dialer:id/five\", \"reason\": \"clickable=true, focusable=true, class=android.widget.RelativeLayout, resource-id=com.samsung.android.dialer:id/five\", \"xml\": \"<android.widget.RelativeLayout a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[387,1179][693,1403]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.RelativeLayout\\\" clickable=\\\"true\\\" content-desc=\\\"5\\n,J,K,L\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"true\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"true\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/five\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"\\\" text-entry-key=\\\"true\\\">\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"false\\\" bounds=\\\"[513,1213][567,1343]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_number\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"5\\\" text-entry-key=\\\"false\\\"/>\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[513,1323][567,1369]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-desc=\\\"\\xa0\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_letters\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"JKL\\\" text-entry-key=\\\"false\\\"/>\\n</android.widget.RelativeLayout>\"}, {\"type\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content_desc\": \"4\\n,G,H,I\", \"attributes\": {\"index\": \"0\", \"package\": \"com.samsung.android.dialer\", \"class\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content-desc\": \"4\\n,G,H,I\", \"resource-id\": \"com.samsung.android.dialer:id/four\", \"checkable\": \"false\", \"checked\": \"false\", \"clickable\": \"true\", \"enabled\": \"true\", \"focusable\": \"true\", \"focused\": \"false\", \"long-clickable\": \"true\", \"password\": \"false\", \"scrollable\": \"false\", \"selected\": \"false\", \"bounds\": \"[81,1179][387,1403]\", \"displayed\": \"true\", \"a11y-important\": \"true\", \"screen-reader-focusable\": \"false\", \"drawing-order\": \"1\", \"showing-hint\": \"false\", \"text-entry-key\": \"true\", \"dismissable\": \"false\", \"a11y-focused\": \"false\", \"heading\": \"false\", \"live-region\": \"0\", \"context-clickable\": \"false\", \"content-invalid\": \"false\"}, \"action\": \"type\", \"selector\": \"id=com.samsung.android.dialer:id/four\", \"reason\": \"clickable=true, focusable=true, class=android.widget.RelativeLayout, resource-id=com.samsung.android.dialer:id/four\", \"xml\": \"<android.widget.RelativeLayout a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[81,1179][387,1403]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.RelativeLayout\\\" clickable=\\\"true\\\" content-desc=\\\"4\\n,G,H,I\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"true\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"true\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/four\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"\\\" text-entry-key=\\\"true\\\">\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"false\\\" bounds=\\\"[207,1213][261,1343]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_number\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"4\\\" text-entry-key=\\\"false\\\"/>\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[207,1323][261,1369]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-desc=\\\"\\xa0\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_letters\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"GHI\\\" text-entry-key=\\\"false\\\"/>\\n</android.widget.RelativeLayout>\"}, {\"type\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content_desc\": \"4\\n,G,H,I\", \"attributes\": {\"index\": \"0\", \"package\": \"com.samsung.android.dialer\", \"class\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content-desc\": \"4\\n,G,H,I\", \"resource-id\": \"com.samsung.android.dialer:id/four\", \"checkable\": \"false\", \"checked\": \"false\", \"clickable\": \"true\", \"enabled\": \"true\", \"focusable\": \"true\", \"focused\": \"false\", \"long-clickable\": \"true\", \"password\": \"false\", \"scrollable\": \"false\", \"selected\": \"false\", \"bounds\": \"[81,1179][387,1403]\", \"displayed\": \"true\", \"a11y-important\": \"true\", \"screen-reader-focusable\": \"false\", \"drawing-order\": \"1\", \"showing-hint\": \"false\", \"text-entry-key\": \"true\", \"dismissable\": \"false\", \"a11y-focused\": \"false\", \"heading\": \"false\", \"live-region\": \"0\", \"context-clickable\": \"false\", \"content-invalid\": \"false\"}, \"action\": \"type\", \"selector\": \"id=com.samsung.android.dialer:id/four\", \"reason\": \"clickable=true, focusable=true, class=android.widget.RelativeLayout, resource-id=com.samsung.android.dialer:id/four\", \"xml\": \"<android.widget.RelativeLayout a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[81,1179][387,1403]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.RelativeLayout\\\" clickable=\\\"true\\\" content-desc=\\\"4\\n,G,H,I\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"true\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"true\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/four\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"\\\" text-entry-key=\\\"true\\\">\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"false\\\" bounds=\\\"[207,1213][261,1343]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_number\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"4\\\" text-entry-key=\\\"false\\\"/>\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[207,1323][261,1369]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-desc=\\\"\\xa0\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_letters\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"GHI\\\" text-entry-key=\\\"false\\\"/>\\n</android.widget.RelativeLayout>\"}, {\"type\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content_desc\": \"7\\n,P,Q,R,S\", \"attributes\": {\"index\": \"0\", \"package\": \"com.samsung.android.dialer\", \"class\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content-desc\": \"7\\n,P,Q,R,S\", \"resource-id\": \"com.samsung.android.dialer:id/seven\", \"checkable\": \"false\", \"checked\": \"false\", \"clickable\": \"true\", \"enabled\": \"true\", \"focusable\": \"true\", \"focused\": \"false\", \"long-clickable\": \"true\", \"password\": \"false\", \"scrollable\": \"false\", \"selected\": \"false\", \"bounds\": \"[81,1403][387,1627]\", \"displayed\": \"true\", \"a11y-important\": \"true\", \"screen-reader-focusable\": \"false\", \"drawing-order\": \"1\", \"showing-hint\": \"false\", \"text-entry-key\": \"true\", \"dismissable\": \"false\", \"a11y-focused\": \"false\", \"heading\": \"false\", \"live-region\": \"0\", \"context-clickable\": \"false\", \"content-invalid\": \"false\"}, \"action\": \"type\", \"selector\": \"id=com.samsung.android.dialer:id/seven\", \"reason\": \"clickable=true, focusable=true, class=android.widget.RelativeLayout, resource-id=com.samsung.android.dialer:id/seven\", \"xml\": \"<android.widget.RelativeLayout a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[81,1403][387,1627]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.RelativeLayout\\\" clickable=\\\"true\\\" content-desc=\\\"7\\n,P,Q,R,S\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"true\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"true\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/seven\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"\\\" text-entry-key=\\\"true\\\">\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[192,1547][276,1593]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-desc=\\\"\\xa0\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_letters\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"PQRS\\\" text-entry-key=\\\"false\\\"/>\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"false\\\" bounds=\\\"[207,1437][261,1567]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_number\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"7\\\" text-entry-key=\\\"false\\\"/>\\n</android.widget.RelativeLayout>\"}, {\"type\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content_desc\": \"9\\n,W,X,Y,Z\", \"attributes\": {\"index\": \"2\", \"package\": \"com.samsung.android.dialer\", \"class\": \"android.widget.RelativeLayout\", \"text\": \"\", \"content-desc\": \"9\\n,W,X,Y,Z\", \"resource-id\": \"com.samsung.android.dialer:id/nine\", \"checkable\": \"false\", \"checked\": \"false\", \"clickable\": \"true\", \"enabled\": \"true\", \"focusable\": \"true\", \"focused\": \"false\", \"long-clickable\": \"true\", \"password\": \"false\", \"scrollable\": \"false\", \"selected\": \"false\", \"bounds\": \"[693,1403][999,1627]\", \"displayed\": \"true\", \"a11y-important\": \"true\", \"screen-reader-focusable\": \"false\", \"drawing-order\": \"3\", \"showing-hint\": \"false\", \"text-entry-key\": \"true\", \"dismissable\": \"false\", \"a11y-focused\": \"false\", \"heading\": \"false\", \"live-region\": \"0\", \"context-clickable\": \"false\", \"content-invalid\": \"false\"}, \"action\": \"type\", \"selector\": \"id=com.samsung.android.dialer:id/nine\", \"reason\": \"clickable=true, focusable=true, class=android.widget.RelativeLayout, resource-id=com.samsung.android.dialer:id/nine\", \"xml\": \"<android.widget.RelativeLayout a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[693,1403][999,1627]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.RelativeLayout\\\" clickable=\\\"true\\\" content-desc=\\\"9\\n,W,X,Y,Z\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"3\\\" enabled=\\\"true\\\" focusable=\\\"true\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"2\\\" live-region=\\\"0\\\" long-clickable=\\\"true\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/nine\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"\\\" text-entry-key=\\\"true\\\">\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[802,1547][889,1593]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-desc=\\\"\\xa0\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"2\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_letters\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"WXYZ\\\" text-entry-key=\\\"false\\\"/>\\n<android.widget.TextView a11y-focused=\\\"false\\\" a11y-important=\\\"false\\\" bounds=\\\"[819,1437][873,1567]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.TextView\\\" clickable=\\\"false\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"1\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialpad_key_number\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"9\\\" text-entry-key=\\\"false\\\"/>\\n</android.widget.RelativeLayout>\"}, {\"type\": \"android.widget.FrameLayout\", \"text\": \"\", \"content_desc\": \"Call\", \"attributes\": {\"index\": \"0\", \"package\": \"com.samsung.android.dialer\", \"class\": \"android.widget.FrameLayout\", \"text\": \"\", \"content-desc\": \"Call\", \"resource-id\": \"com.samsung.android.dialer:id/dialButton\", \"checkable\": \"false\", \"checked\": \"false\", \"clickable\": \"true\", \"enabled\": \"true\", \"focusable\": \"true\", \"focused\": \"false\", \"long-clickable\": \"false\", \"password\": \"false\", \"scrollable\": \"false\", \"selected\": \"false\", \"bounds\": \"[448,1898][631,2081]\", \"displayed\": \"true\", \"a11y-important\": \"true\", \"screen-reader-focusable\": \"false\", \"drawing-order\": \"1\", \"showing-hint\": \"false\", \"text-entry-key\": \"false\", \"dismissable\": \"false\", \"a11y-focused\": \"false\", \"heading\": \"false\", \"live-region\": \"0\", \"context-clickable\": \"false\", \"content-invalid\": \"false\", \"tooltip-text\": \"Call\"}, \"action\": \"type\", \"selector\": \"id=com.samsung.android.dialer:id/dialButton\", \"reason\": \"clickable=true, focusable=true, class=android.widget.FrameLayout, resource-id=com.samsung.android.dialer:id/dialButton\", \"xml\": \"<android.widget.FrameLayout a11y-focused=\\\"false\\\" a11y-important=\\\"true\\\" bounds=\\\"[448,1898][631,2081]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.FrameLayout\\\" clickable=\\\"true\\\" content-desc=\\\"Call\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"true\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialButton\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" selected=\\\"false\\\" showing-hint=\\\"false\\\" text=\\\"\\\" text-entry-key=\\\"false\\\" tooltip-text=\\\"Call\\\">\\n<android.widget.ImageView a11y-focused=\\\"false\\\" a11y-important=\\\"false\\\" bounds=\\\"[477,1927][601,2051]\\\" checkable=\\\"false\\\" checked=\\\"false\\\" class=\\\"android.widget.ImageView\\\" clickable=\\\"false\\\" content-invalid=\\\"false\\\" context-clickable=\\\"false\\\" dismissable=\\\"false\\\" displayed=\\\"true\\\" drawing-order=\\\"1\\\" enabled=\\\"true\\\" focusable=\\\"false\\\" focused=\\\"false\\\" heading=\\\"false\\\" index=\\\"0\\\" live-region=\\\"0\\\" long-clickable=\\\"false\\\" package=\\\"com.samsung.android.dialer\\\" password=\\\"false\\\" resource-id=\\\"com.samsung.android.dialer:id/dialButtonImage\\\" screen-reader-focusable=\\\"false\\\" scrollable=\\\"false\\\" 
  
    """
    print(sanitize_json(test_str))
